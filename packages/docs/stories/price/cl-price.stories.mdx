import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs'
import { meta, Basic, NoDiscount, WithoutAttributes } from './cl-price.stories.ts';

<Meta
  title={meta.title}
  argTypes={meta.argTypes}
/>

# Price

Once you have correctly set up your organization in Commerce Layer and imported the drop-in library as described [here](?path=/docs/getting-started--page), you can use the `cl-price` component to display the [price](https://docs.commercelayer.io/core/v/api-reference/prices) of your products with localized currency, discounts, and personalization rules, as shown in the code snippets below.

Each price has an amount (the actual selling price) and an optional *compare-at* amount (the full price that you want to display to the customer â€” typically with a strikethrough).

This component is the owner of the price information. It fetches the price of the specified SKU and dispatches it to the [**cl-price-amount**](?path=/docs/components-price-cl-price-amount--basic) children.

<Canvas withSource="open">
  <Story story={Basic} name="Basic" />
</Canvas>

<ArgsTable story="Basic" />

### No discount

If the *compare-at* amount of the price is not set (i.e. the product isn't discounted) it won't be displayed, as shown in the example below:

<Canvas withSource="open">
  <Story story={NoDiscount} name="No Discount" />
</Canvas>

### No code

A price must be associated with a product. That's why the `code` attribute is mandatory. If you don't set it, the component will be rendered as an empty box without any size, as shown in the example below:

<Canvas withSource="open">
  <Story story={WithoutAttributes} name="No code" />
</Canvas>

## Events

The `cl-price` component triggers the [**cl-prices-getprice**](?path=/docs/events--page#cl-prices-getprice) custom event when a price is fetched.