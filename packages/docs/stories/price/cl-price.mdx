import { Canvas, Meta, Story, Controls } from '@storybook/blocks'
import * as Stories from './cl-price.stories.ts';

<Meta of={Stories} />

# Price

Once you have correctly set up your organization in Commerce Layer and imported the drop-in library as described [here](?path=/docs/getting-started--docs), you can use the `cl-price` component to display the [price](https://docs.commercelayer.io/core/v/api-reference/prices) of your products with localized currency, discounts, and personalization rules, as shown in the code snippets below.

Each price has an amount (the actual selling price) and an optional *compare-at* amount (the full price that you want to display to the customer â€” typically with a strikethrough).

This component is the owner of the price information. It fetches the price of the specified SKU or Bundle and dispatches it to the [`cl-price-amount`](?path=/docs/components-price-cl-price-amount--docs) children.

<Canvas of={Stories.Basic} />

<Controls of={Stories.Basic} />

### No discount

If the *compare-at* amount of the price is not set (i.e. the product isn't discounted) it won't be displayed, as shown in the example below:

<Canvas of={Stories.NoDiscount} />

### Bundle

### TODO: MISSING TEXT HERE ###

By default the `kind` attribute is set to *sku*. If you need, you can set it to *bundle*:

<Canvas of={Stories.Bundle} />

### No code

A price must be associated with a product. That's why the `code` attribute is mandatory. If you don't set it, the component will be rendered as an empty box without any size, as shown in the example below:

<Canvas of={Stories.WithoutAttributes} />

## Events

The `cl-price` component triggers the [`cl-prices-getprice`](?path=/docs/events--docs#cl-prices-getprice) custom event when a price is fetched.