import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs'
import { meta, Basic, WithIcon, WithText, LinkWithStyle } from './cl-cart-count.stories.ts'
import { codes } from '../assets/constants.ts'

<Meta
  title={meta.title}
  argTypes={meta.argTypes}
/>

# Shopping cart counter

Once you have correctly set up your organization in Commerce Layer and imported the drop-in library as described [here](?path=/docs/getting-started--page), you can use the `cl-cart-count` component to display the number of items that are in your [shopping cart](?path=/docs/components-cart-cl-cart--basic), with the option to hide it in case the cart is empty. 

The component works in the most straightforward way, as shown in the code snippet below. Just click on <cl-add-to-cart class="mx-1 px-2 py-1" code={codes.available}>add to cart</cl-add-to-cart> and check the counter:

<Canvas withSource="open">
  <Story story={Basic} name="Basic" />
</Canvas>

<ArgsTable story='Basic' exclude={['Use drop-in.css']} />

Just in case you wondered â€” yes, the in-line button was *dropped-in* the sentence above using the [**cl-add-to-cart**](?path=/docs/components-add-to-cart-cl-add-to-cart--basic) component). Pretty cool, uh? ðŸ˜Ž

### Counter + link

Although it works perfectly standalone, the most common use case of the `cl-cart-count` component is in combination with the [**cl-cart-link**](?path=/docs/components-cart-cl-cart-link--basic) one, as shown in the two of examples below:

#### Icon with counter

<Canvas withSource="open">
  <Story story={WithIcon} name="Icon with counter" />
</Canvas>

<ArgsTable story='Icon with counter' exclude={['Use drop-in.css']} />

#### Text with counter

<Canvas withSource="open">
  <Story story={WithText} name="Text with counter" />
</Canvas>

<ArgsTable story='Basic' include={['Use drop-in.css']} />

###  Pointing to a custom cart URL

As explained [here](?path=/docs/components-cart-cl-cart-link--basic), the `cl-cart-link` component automatically generates the URL pointing to the hosted cart.

If you prefer to point to a different URL (e.g. your internal cart page) you can simply use a standard HTML `<a>` tag with the `cl-cart-link`, as shown in the example below:

<Canvas withSource="open">
  <Story story={LinkWithStyle} name="Custom URL" />
</Canvas>
