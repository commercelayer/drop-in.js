import { Meta, Source } from '@storybook/blocks'
import { linkTo } from '@storybook/addon-links'
import { Alert } from './assets/components'
import { getSelectedScopeValue } from '../.storybook/addon-scope-selector/constants'

<Meta title="Getting started" />

# Getting started

Assuming you already have a Commerce Layer account ([sign up](https://dashboard.commercelayer.io/sign_up) if you don't — it's free!) and your organization properly set up and filled with real or sample data (check our [onboarding documentation](https://docs.commercelayer.io/core/welcome) for more information about that), you can get easily started with Commerce Layer `drop-in.js` in two simple steps:

1. Import the library from the [CDN](https://cdn.jsdelivr.net/npm/@commercelayer/drop-in.js@2/dist/drop-in/drop-in.esm.js).
2. Declare a global variable called `commercelayerConfig` and set the following attributes.

| Attribute            | Type   | Required | Description                                                                                                                                                                                                                                    |
|----------------------|--------|:--------:|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **`clientId`**       | String |     ✓    | Your [sales channel](https://docs.commercelayer.io/core/applications#sales-channel) client ID. You can find it in your application details page on your dashboard.                                                                             |
| **`slug`**           | String |     ✓    | Your organization slug (i.e. the subdomain of your base endpoint, usually the slugified version of your organization's name). You can find the base endpoint in your application details page on your dashboard.                               |
| **`scope`**          | String |     ✓    | Your sales channel [scope](https://docs.commercelayer.io/core/authentication#authorization-scopes) (use it to restrict the dataset of your application). You can find the allowed scopes in your application details page on your dashboard.   |
| `debug`              | String |          | The debug level. Can be one of `none` or `all`. Default is `none`.                                                                                                                                                                             |
| `languageCode`       | String |          | The preferred language code (ISO 639-1) to be used when communicating with the customer. If the language is supported, the hosted checkout will be localized accordingly. Default is `en`.                                                     |
| `orderReturnUrl`     | String |          | The URL the cart's *Continue shopping* button points to. This is also used in the thank you page.                                                                                                                                              |


 The final result should be similar to the code snippet below:

<Source language='html' dark code={`
<script type="module" src="https://cdn.jsdelivr.net/npm/@commercelayer/drop-in.js@2/dist/drop-in/drop-in.esm.js"></script>

<script>
  window.commercelayerConfig = {
    clientId: 'kuSKPbeKbU9LG9LjndzieKWRcfiXFuEfO0OYHXKH9J8',
    slug: 'drop-in-js',
    scope: '${getSelectedScopeValue()}',
    debug: 'all', // default is 'none'
    languageCode: 'it', // default is 'en'
    orderReturnUrl: 'https://example.com' // optional
  }
</script>
`} />

<Alert title="Semantic versioning" type="info">
  We follow [semantic versioning](https://docs.npmjs.com/about-semantic-versioning) for our releases.
  We recommend using the latest major version, `drop-in.js@2`, to benefit from the newest improvements and fixes as they become available.
  Alternatively, you can lock in a specific version. The latest release is `drop-in.js@2.5.0`.
</Alert>

## Styling

### `drop-in.css`

The drop-in library is shipped unstyled, so that you can apply your own styles. We provide some simple styling. If you're happy with that or you just want to speed up the set up process just add an additional `link` tag to your HTML code as follows:

<Source language='html' dark code={`
<link href="https://cdn.jsdelivr.net/npm/@commercelayer/drop-in.js@2/dist/drop-in/drop-in.css" rel="stylesheet" />
`} />

### `minicart.css`

The [minicart](?path=/docs/components-cart-cl-cart-minicart--docs) version of the cart is unstyled and hidden by default. Since its behavior is achieved mostly via CSS, you have to write your own to style it. You can start from scratch, or import a minimal set of styles and take it from there. To do that, just add an additional `link` tag to your HTML code as follows:

<Source language='html' dark code={`
<link href="https://cdn.jsdelivr.net/npm/@commercelayer/drop-in.js@2/dist/drop-in/minicart.css" rel="stylesheet" />
`} />

<Alert title="Applying styles" type="info">
  To simulate in the following interactive documentation pages how the components would look when importing the CSS files above into your website you can use the toggle switches in the header.
</Alert>

## Need help?

- Join [Commerce Layer's Slack community](https://slack.commercelayer.app).
- Open a new [Q&A discussion](https://github.com/commercelayer/drop-in.js/discussions/categories/q-a)
- Ping us [on Twitter](https://twitter.com/commercelayer).
- Is there a bug? Create an [issue](https://github.com/commercelayer/drop-in.js/issues) on this repository.


## License

This project is published under the [MIT](https://github.com/commercelayer/drop-in.js/blob/main/LICENSE) license.
