import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs'
import { meta, Basic, WithoutAttributes, OutOfStock, Nonexisting, NoOverselling, DoNotTrack } from './cl-add-to-cart.stories.ts';
import { codes } from '../assets/constants.ts'

<Meta
  title={meta.title}
  argTypes={meta.argTypes}
/>

# `cl-add-to-cart`

Add a buy button to any page with embedded validation rules.

<Canvas withSource="open">
  <Story story={Basic} name="Basic" />
</Canvas>

<ArgsTable story="Basic" />

### Disabled

To enable the **add to cart** button, you'll need to have a `code` attribute and a `quantity` value greater than 0.

The button below is disabled since there's no `code` nor `quantity`.

<Canvas withSource="open">
  <Story story={WithoutAttributes} name="Without Attributes" />
</Canvas>

### Out Of Stock

`cl-add-to-cart` checks the inventory for the provided code. When the product is out of stock the button will be disable.

<Canvas withSource="open">
  <Story story={OutOfStock} name="Out Of Stock" />
</Canvas>

### Nonexisting

The provided `code` must exists. If nonexisting the add to cart button will stay disabled.

<Canvas withSource="open">
  <Story story={Nonexisting} name="Nonexisting" />
</Canvas>

### No Overselling

<p>
  The product with code <i>{codes.noDiscount}</i> has less than <code>100</code> stock unit, so the button with be disabled.
</p>

<Canvas withSource="open">
  <Story story={NoOverselling} name="No Overselling" />
</Canvas>

### Do Not Track

<p>
  The product with code <i>{codes.doNotTrack}</i> has the <code>do_not_track</code> flag set to true that assign a virtual infinite stock.
</p>

<Canvas withSource="open">
  <Story story={DoNotTrack} name="Do Not Track" />
</Canvas>
