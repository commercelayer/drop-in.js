import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs'
import { meta, Basic, WithoutAttributes } from './cl-availability.stories.ts';
import { codes } from '../assets/constants'

<Meta
  title={meta.title}
  argTypes={meta.argTypes}
/>

# Availability message

Once you have correctly set up your organization in Commerce Layer and imported the drop-in library as described [here](?path=/docs/getting-started--page), you can use the `cl-availability` component to display an availability message for your products (either available or out-of-stock) with localized delivery lead time and cost, as shown in the code snippets below.

This component is the owner of the availability information. It fetches the inventory of the specified SKU and dispatches it to the [**cl-availability-status**](?path=/docs/components-availability-cl-availability-status--basic) and [**cl-availability-info**](?path=/docs/components-availability-cl-availability-info--basic) children.

Please note that, if different delivery lead times are available, only the one associated with the lower shipping method cost is displayed.

<Canvas withSource="open">
  <Story story={Basic} name="Basic" />
</Canvas>

<ArgsTable story="Basic" />

### No code

Any availability message is related to a product. That's why the `code` attribute is mandatory. If you don't set it, the component will be rendered as an empty box without any size, as shown in the example below:

<Canvas withSource="open">
  <Story story={WithoutAttributes} name="No code" />
</Canvas>

## Events

The `cl-availability` component triggers the [**cl-skus-getsku**](?path=/docs/events--page#cl-skus-getsku) custom event when an SKU is fetched.
