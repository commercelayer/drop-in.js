import{r as n,h as e,H as t,g as i}from"./p-34f2dea8.js";import{e as o,d as r,t as a}from"./p-b94594e8.js";var u=o((function(n){!function(e){if("undefined"!=typeof window){var t,i=0,o=!1,r=!1,a="message".length,u="[iFrameSizer]",c=u.length,s=null,d=window.requestAnimationFrame,f={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},l={},m=null,h={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mouseEvents:!0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){I("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}},w={};window.jQuery&&((t=window.jQuery).fn?t.fn.iFrameResize||(t.fn.iFrameResize=function(n){return this.filter("iframe").each((function(e,t){L(t,n)})).end()}):T("","Unable to bind to jQuery, it is not fully loaded.")),n.exports=D(),window.iFrameResize=window.iFrameResize||D()}function g(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function v(n,e,t){n.addEventListener(e,t,!1)}function p(n,e,t){n.removeEventListener(e,t,!1)}function b(n){return l[n]?l[n].log:o}function y(n,e){M("log",n,e,b(n))}function T(n,e){M("info",n,e,b(n))}function I(n,e){M("warn",n,e,!0)}function M(n,e,t,i){!0===i&&"object"==typeof window.console&&console[n](function(n){return u+"["+function(n){var e="Host page: "+n;return window.top!==window.self&&(e=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+n:"Nested host page: "+n),e}(n)+"]"}(e),t)}function k(n){function e(){t("Height"),t("Width"),C((function(){E(H),x(W),h("onResized",H)}),H,"init")}function t(n){var e=Number(l[W]["max"+n]),t=Number(l[W]["min"+n]),i=n.toLowerCase(),o=Number(H[i]);y(W,"Checking "+i+" is in range "+t+"-"+e),o<t&&(o=t,y(W,"Set "+i+" to min value")),o>e&&(o=e,y(W,"Set "+i+" to max value")),H[i]=""+o}function i(n){return P.substr(P.indexOf(":")+a+n)}function o(n,e){var t,i;t=function(){var t,i;A("Send Page Info","pageInfo:"+(t=document.body.getBoundingClientRect(),i=H.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:i.height,iframeWidth:i.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(i.top-t.top,10),offsetLeft:parseInt(i.left-t.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})),n,e)},w[i=e]||(w[i]=setTimeout((function(){w[i]=null,t()}),32))}function r(n){var e=n.getBoundingClientRect();return N(W),{x:Math.floor(Number(e.left)+Number(s.x)),y:Math.floor(Number(e.top)+Number(s.y))}}function d(n){var e=n?r(H.iframe):{x:0,y:0},t={x:Number(H.width)+e.x,y:Number(H.height)+e.y};y(W,"Reposition requested from iFrame (offset x:"+e.x+" y:"+e.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(n?"Offset":"")](t.x,t.y):I(W,"Unable to scroll to requested position, window.parentIFrame not found"):(s=t,f(),y(W,"--"))}function f(){!1!==h("onScroll",s)?x(W):R()}function m(n){var e={};if(0===Number(H.width)&&0===Number(H.height)){var t=i(9).split(":");e={x:t[1],y:t[0]}}else e={x:H.width,y:H.height};h(n,{iframe:H.iframe,screenX:Number(e.x),screenY:Number(e.y),type:H.type})}function h(n,e){return z(W,n,e)}var g,b,M,k,O,L,P=n.data,H={},W=null;"[iFrameResizerChild]Ready"===P?function(){for(var n in l)A("iFrame requested init",j(n),l[n].iframe,n)}():u===(""+P).substr(0,c)&&P.substr(c).split(":")[0]in l?(k=(M=P.substr(c).split(":"))[1]?parseInt(M[1],10):0,O=l[M[0]]&&l[M[0]].iframe,L=getComputedStyle(O),H={iframe:O,id:M[0],height:k+function(n){return"border-box"!==n.boxSizing?0:(n.paddingTop?parseInt(n.paddingTop,10):0)+(n.paddingBottom?parseInt(n.paddingBottom,10):0)}(L)+function(n){return"border-box"!==n.boxSizing?0:(n.borderTopWidth?parseInt(n.borderTopWidth,10):0)+(n.borderBottomWidth?parseInt(n.borderBottomWidth,10):0)}(L),width:M[2],type:M[3]},l[W=H.id]&&(l[W].loaded=!0),(b=H.type in{true:1,false:1,undefined:1})&&y(W,"Ignoring init message from meta parent page"),!b&&function(n){var e=!0;return l[n]||(e=!1,I(H.type+" No settings for "+n+". Message was: "+P)),e}(W)&&(y(W,"Received: "+P),g=!0,null===H.iframe&&(I(W,"IFrame ("+H.id+") not found"),g=!1),g&&function(){var e,t=n.origin,i=l[W]&&l[W].checkOrigin;if(i&&""+t!="null"&&!(i.constructor===Array?function(){var n=0,e=!1;for(y(W,"Checking connection is from allowed list of origins: "+i);n<i.length;n++)if(i[n]===t){e=!0;break}return e}():(y(W,"Checking connection is from: "+(e=l[W]&&l[W].remoteHost)),t===e)))throw new Error("Unexpected message received from: "+t+" for "+H.iframe.id+". Message was: "+n.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(l[W]&&l[W].firstRun&&l[W]&&(l[W].firstRun=!1),H.type){case"close":S(H.iframe);break;case"message":c=i(6),y(W,"onMessage passed: {iframe: "+H.iframe.id+", message: "+c+"}"),h("onMessage",{iframe:H.iframe,message:JSON.parse(c)}),y(W,"--");break;case"mouseenter":m("onMouseEnter");break;case"mouseleave":m("onMouseLeave");break;case"autoResize":l[W].autoResize=JSON.parse(i(9));break;case"scrollTo":d(!1);break;case"scrollToOffset":d(!0);break;case"pageInfo":o(l[W]&&l[W].iframe,W),function(){function n(n,i){function r(){l[t]?o(l[t].iframe,t):e()}["scroll","resize"].forEach((function(e){y(t,n+e+" listener for sendPageInfo"),i(window,e,r)}))}function e(){n("Remove ",p)}var t=W;n("Add ",v),l[t]&&(l[t].stopPageInfo=e)}();break;case"pageInfoStop":l[W]&&l[W].stopPageInfo&&(l[W].stopPageInfo(),delete l[W].stopPageInfo);break;case"inPageLink":t=i(9).split("#")[1]||"",a=decodeURIComponent(t),(u=document.getElementById(a)||document.getElementsByName(a)[0])?(n=r(u),y(W,"Moving to in page link (#"+t+") at x: "+n.x+" y: "+n.y),s={x:n.x,y:n.y},f(),y(W,"--")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(t):y(W,"In page link #"+t+" not found and window.parentIFrame not found"):y(W,"In page link #"+t+" not found");break;case"reset":F(H);break;case"init":e(),h("onInit",H.iframe);break;default:0===Number(H.width)&&0===Number(H.height)?I("Unsupported message received ("+H.type+"), this is likely due to the iframe containing a later version of iframe-resizer than the parent page"):e()}var n,t,a,u,c}())):T(W,"Ignored: "+P)}function z(n,e,t){var i=null,o=null;if(l[n]){if("function"!=typeof(i=l[n][e]))throw new TypeError(e+" on iFrame["+n+"] is not a function");o=i(t)}return o}function O(n){delete l[n.id]}function S(n){var e=n.id;if(!1!==z(e,"onClose",e)){y(e,"Removing iFrame: "+e);try{n.parentNode&&n.parentNode.removeChild(n)}catch(n){I(n)}z(e,"onClosed",e),y(e,"--"),O(n)}else y(e,"Close iframe cancelled by onClose event")}function N(n){null===s&&y(n,"Get page position: "+(s={x:window.pageXOffset!==e?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==e?window.pageYOffset:document.documentElement.scrollTop}).x+","+s.y)}function x(n){null!==s&&(window.scrollTo(s.x,s.y),y(n,"Set page position: "+s.x+","+s.y),R())}function R(){s=null}function F(n){y(n.id,"Size reset requested by "+("init"===n.type?"host page":"iFrame")),N(n.id),C((function(){E(n),A("reset","reset",n.iframe,n.id)}),n,"reset")}function E(n){function e(e){r||"0"!==n[e]||(r=!0,y(i,"Hidden iFrame detected, creating visibility listener"),function(){function n(){Object.keys(l).forEach((function(n){!function(n){function e(e){return"0px"===(l[n]&&l[n].iframe.style[e])}l[n]&&null!==l[n].iframe.offsetParent&&(e("height")||e("width"))&&A("Visibility change","resize",l[n].iframe,n)}(n)}))}function e(e){y("window","Mutation observed: "+e[0].target+" "+e[0].type),P(n,16)}var t,i=g();i&&(t=document.querySelector("body"),new i(e).observe(t,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}))}())}function t(t){!function(e){n.id?(n.iframe.style[e]=n[e]+"px",y(n.id,"IFrame ("+i+") "+e+" set to "+n[e]+"px")):y("undefined","messageData id not set")}(t),e(t)}var i=n.iframe.id;l[i]&&(l[i].sizeHeight&&t("height"),l[i].sizeWidth&&t("width"))}function C(n,e,t){t!==e.type&&d&&!window.jasmine?(y(e.id,"Requesting animation frame"),d(n)):n()}function A(n,e,t,i,o){var r,a=!1;l[i=i||t.id]&&(t&&"contentWindow"in t&&null!==t.contentWindow?(y(i,"["+n+"] Sending msg to iframe["+i+"] ("+e+") targetOrigin: "+(r=l[i]&&l[i].targetOrigin)),t.contentWindow.postMessage(u+e,r)):I(i,"["+n+"] IFrame("+i+") not found"),o&&l[i]&&l[i].warningTimeout&&(l[i].msgTimeout=setTimeout((function(){!l[i]||l[i].loaded||a||(a=!0,I(i,"IFrame has not responded within "+l[i].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}),l[i].warningTimeout)))}function j(n){return n+":"+l[n].bodyMarginV1+":"+l[n].sizeWidth+":"+l[n].log+":"+l[n].interval+":"+l[n].enablePublicMethods+":"+l[n].autoResize+":"+l[n].bodyMargin+":"+l[n].heightCalculationMethod+":"+l[n].bodyBackground+":"+l[n].bodyPadding+":"+l[n].tolerance+":"+l[n].inPageLinks+":"+l[n].resizeFrom+":"+l[n].widthCalculationMethod+":"+l[n].mouseEvents}function L(n,t){function r(n){var e=n.split("Callback");if(2===e.length){var t="on"+e[0].charAt(0).toUpperCase()+e[0].slice(1);this[t]=this[n],delete this[n],I(c,"Deprecated: '"+n+"' has been renamed '"+t+"'. The old method will be removed in the next major version.")}}var a,u,c=function(e){var r;return""===e&&(n.id=(r=t&&t.id||h.id+i++,null!==document.getElementById(r)&&(r+=i++),e=r),o=(t||{}).log,y(e,"Added missing iframe ID: "+e+" ("+n.src+")")),e}(n.id);c in l&&"iFrameResizer"in n?I(c,"Ignored iFrame, already setup."):(function(e){var t;e=e||{},l[c]={firstRun:!0,iframe:n,remoteHost:n.src&&n.src.split("/").slice(0,3).join("/")},function(n){if("object"!=typeof n)throw new TypeError("Options is not an object")}(e),Object.keys(e).forEach(r,e),function(n){for(var e in h)Object.prototype.hasOwnProperty.call(h,e)&&(l[c][e]=Object.prototype.hasOwnProperty.call(n,e)?n[e]:h[e])}(e),l[c]&&(l[c].targetOrigin=!0===l[c].checkOrigin?""===(t=l[c].remoteHost)||null!==t.match(/^(about:blank|javascript:|file:\/\/)/)?"*":t:"*")}(t),function(){switch(y(c,"IFrame scrolling "+(l[c]&&l[c].scrolling?"enabled":"disabled")+" for "+c),n.style.overflow=!1===(l[c]&&l[c].scrolling)?"hidden":"auto",l[c]&&l[c].scrolling){case"omit":break;case!0:n.scrolling="yes";break;case!1:n.scrolling="no";break;default:n.scrolling=l[c]?l[c].scrolling:"no"}}(),function(){function e(e){var t=l[c][e];1/0!==t&&0!==t&&(n.style[e]="number"==typeof t?t+"px":t,y(c,"Set "+e+" = "+n.style[e]))}function t(n){if(l[c]["min"+n]>l[c]["max"+n])throw new Error("Value for min"+n+" can not be greater than max"+n)}t("Height"),t("Width"),e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}(),"number"!=typeof(l[c]&&l[c].bodyMargin)&&"0"!==(l[c]&&l[c].bodyMargin)||(l[c].bodyMarginV1=l[c].bodyMargin,l[c].bodyMargin=l[c].bodyMargin+"px"),a=j(c),(u=g())&&function(e){n.parentNode&&new e((function(e){e.forEach((function(e){Array.prototype.slice.call(e.removedNodes).forEach((function(e){e===n&&S(n)}))}))})).observe(n.parentNode,{childList:!0})}(u),v(n,"load",(function(){A("iFrame.onload",a,n,e,!0),(!l[c]||!l[c].firstRun)&&l[c]&&l[c].heightCalculationMethod in f&&F({iframe:n,height:0,width:0,type:"init"})})),A("init",a,n,e,!0),l[c]&&(l[c].iframe.iFrameResizer={close:S.bind(null,l[c].iframe),removeListeners:O.bind(null,l[c].iframe),resize:A.bind(null,"Window resize","resize",l[c].iframe),moveToAnchor:function(n){A("Move to anchor","moveToAnchor:"+n,l[c].iframe,c)},sendMessage:function(n){A("Send Message","message:"+(n=JSON.stringify(n)),l[c].iframe,c)}}))}function P(n,e){null===m&&(m=setTimeout((function(){m=null,n()}),e))}function H(){"hidden"!==document.visibilityState&&(y("document","Trigger event: Visiblity change"),P((function(){W("Tab Visable","resize")}),16))}function W(n,e){Object.keys(l).forEach((function(t){(function(n){return l[n]&&"parent"===l[n].resizeFrom&&l[n].autoResize&&!l[n].firstRun})(t)&&A(n,e,l[t].iframe,t)}))}function D(){function n(n,e){e&&(function(){if(!e.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==e.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+e.tagName+">")}(),L(e,n),t.push(e))}var t;return function(){var n,e=["moz","webkit","o","ms"];for(n=0;n<e.length&&!d;n+=1)d=window[e[n]+"RequestAnimationFrame"];d?d=d.bind(window):y("setup","RequestAnimationFrame not supported")}(),v(window,"message",k),v(window,"resize",(function(){y("window","Trigger event: resize"),P((function(){W("Window resize","resize")}),16)})),v(document,"visibilitychange",H),v(document,"-webkit-visibilitychange",H),function(i,o){switch(t=[],function(n){n&&n.enablePublicMethods&&I("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(i),typeof o){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(o||"iframe"),n.bind(e,i));break;case"object":n(i,o);break;default:throw new TypeError("Unexpected data type ("+typeof o+")")}return t}}}()})),c={iframeResize:u,iframeResizer:u,iframeResizerContentWindow:o((function(n){!function(e){if("undefined"!=typeof window){var t=!0,i="",o=0,r="",a=null,u="",c=!1,s={resize:1,click:1},d=128,f=!0,l=1,m="bodyOffset",h=m,w=!0,g="",v={},p=32,b=null,y=!1,T=!1,I="[iFrameSizer]",M=I.length,k="",z={max:1,min:1,bodyScroll:1,documentElementScroll:1},O="child",S=window.parent,N="*",x=0,R=!1,F=null,E=16,C=1,A="scroll",j=A,L=window,P=function(){an("onMessage function not defined")},H=function(){},W=function(){},D={height:function(){return an("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return an("Custom width calculation function not defined"),document.body.scrollWidth}},J={},U=!1;try{var V=Object.create({},{passive:{get:function(){U=!0}}});window.addEventListener("test",nn,V),window.removeEventListener("test",nn,V)}catch(n){}var q,B,Q,G,X,Y,_,K={bodyOffset:function(){return document.body.offsetHeight+gn("marginTop")+gn("marginBottom")},offset:function(){return K.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return D.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,pn(K))},min:function(){return Math.min.apply(null,pn(K))},grow:function(){return K.max()},lowestElement:function(){return Math.max(K.bodyOffset()||K.documentElementOffset(),vn("bottom",yn()))},taggedElement:function(){return bn("bottom","data-iframe-height")}},Z={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return D.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Z.bodyScroll(),Z.documentElementScroll())},max:function(){return Math.max.apply(null,pn(Z))},min:function(){return Math.min.apply(null,pn(Z))},rightMostElement:function(){return vn("right",yn())},taggedElement:function(){return bn("right","data-iframe-width")}},$=(q=Tn,X=null,Y=0,_=function(){Y=Date.now(),X=null,G=q.apply(B,Q),X||(B=Q=null)},function(){var n=Date.now();Y||(Y=n);var e=E-(n-Y);return B=this,Q=arguments,e<=0||e>E?(X&&(clearTimeout(X),X=null),Y=n,G=q.apply(B,Q),X||(B=Q=null)):X||(X=setTimeout(_,e)),G});en(window,"message",(function(s){var l,m={init:function(){var n,l,m;g=s.data,S=s.source,function(){function n(n){return"true"===n}var a=g.substr(M).split(":");k=a[0],o=e!==a[1]?Number(a[1]):o,c=e!==a[2]?n(a[2]):c,y=e!==a[3]?n(a[3]):y,p=e!==a[4]?Number(a[4]):p,t=e!==a[6]?n(a[6]):t,r=a[7],h=e!==a[8]?a[8]:h,i=a[9],u=a[10],x=e!==a[11]?Number(a[11]):x,v.enable=e!==a[12]&&n(a[12]),O=e!==a[13]?a[13]:O,j=e!==a[14]?a[14]:j,T=e!==a[15]?Boolean(a[15]):T}(),rn("Initialising iFrame ("+window.location.href+")"),function(){function n(){var n=window.iFrameResizer;rn("Reading data from page: "+JSON.stringify(n)),Object.keys(n).forEach(un,n),P="onMessage"in n?n.onMessage:P,H="onReady"in n?n.onReady:H,N="targetOrigin"in n?n.targetOrigin:N,h="heightCalculationMethod"in n?n.heightCalculationMethod:h,j="widthCalculationMethod"in n?n.widthCalculationMethod:j}function e(n,e){return"function"==typeof n&&(rn("Setup custom "+e+"CalcMethod"),D[e]=n,n="custom"),n}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(n(),h=e(h,"height"),j=e(j,"width")),rn("TargetOrigin for parent set to: "+N)}(),e===r&&(r=o+"px"),cn("margin",(l="margin",-1!==(m=r).indexOf("-")&&(an("Negative CSS value ignored for "+l),m=""),m)),cn("background",i),cn("padding",u),(n=document.createElement("div")).style.clear="both",n.style.display="block",n.style.height="0",document.body.appendChild(n),ln(),mn(),document.documentElement.style.height="",document.body.style.height="",rn('HTML & body height set to "auto"'),rn("Enable public methods"),L.parentIFrame={autoResize:function(n){return!0===n&&!1===t?(t=!0,hn()):!1===n&&!0===t&&(t=!1,dn("remove"),null!==a&&a.disconnect(),clearInterval(b)),On(0,0,"autoResize",JSON.stringify(t)),t},close:function(){On(0,0,"close")},getId:function(){return k},getPageInfo:function(n){"function"==typeof n?(W=n,On(0,0,"pageInfo")):(W=function(){},On(0,0,"pageInfoStop"))},moveToAnchor:function(n){v.findTarget(n)},reset:function(){zn("parentIFrame.reset")},scrollTo:function(n,e){On(e,n,"scrollTo")},scrollToOffset:function(n,e){On(e,n,"scrollToOffset")},sendMessage:function(n,e){On(0,0,"message",JSON.stringify(n),e)},setHeightCalculationMethod:function(n){h=n,ln()},setWidthCalculationMethod:function(n){j=n,mn()},setTargetOrigin:function(n){rn("Set targetOrigin: "+n),N=n},size:function(n,e){In("size","parentIFrame.size("+(n||"")+(e?","+e:"")+")",n,e)}},function(){function n(n){On(0,0,n.type,n.screenY+":"+n.screenX)}function e(e,t){rn("Add event listener: "+t),en(window.document,e,n)}!0===T&&(e("mouseenter","Mouse Enter"),e("mouseleave","Mouse Leave"))}(),hn(),v=function(){function n(){return{x:window.pageXOffset!==e?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==e?window.pageYOffset:document.documentElement.scrollTop}}function t(e){var t=e.getBoundingClientRect(),i=n();return{x:parseInt(t.left,10)+parseInt(i.x,10),y:parseInt(t.top,10)+parseInt(i.y,10)}}function i(n){function i(n){var e=t(n);rn("Moving to in page link (#"+o+") at x: "+e.x+" y: "+e.y),On(e.y,e.x,"scrollToOffset")}var o=n.split("#")[1]||n,r=decodeURIComponent(o),a=document.getElementById(r)||document.getElementsByName(r)[0];e!==a?i(a):(rn("In page link (#"+o+") not found in iFrame, so sending to parent"),On(0,0,"inPageLink","#"+o))}function o(){var n=window.location.hash,e=window.location.href;""!==n&&"#"!==n&&i(e)}function r(){function n(n){function e(n){n.preventDefault(),i(this.getAttribute("href"))}"#"!==n.getAttribute("href")&&en(n,"click",e)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),n)}function a(){en(window,"hashchange",o)}function u(){setTimeout(o,d)}function c(){Array.prototype.forEach&&document.querySelectorAll?(rn("Setting up location.hash handlers"),r(),a(),u()):an("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return v.enable?c():rn("In page linking not enabled"),{findTarget:i}}(),In("init","Init message from host page"),H(),f=!1,setTimeout((function(){w=!1}),d)},reset:function(){w?rn("Page reset ignored by init"):(rn("Page size reset by host page"),kn("resetPage"))},resize:function(){In("resizeParent","Parent window requested size check")},moveToAnchor:function(){v.findTarget(R())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var n=R();rn("PageInfoFromParent called from parent: "+n),W(JSON.parse(n)),rn(" --")},message:function(){var n=R();rn("onMessage called from parent: "+n),P(JSON.parse(n)),rn(" --")}};function z(){return s.data.split("]")[1].split(":")[0]}function R(){return s.data.substr(s.data.indexOf(":")+1)}function F(){return s.data.split(":")[2]in{true:1,false:1}}I===(""+s.data).substr(0,M)&&(!1===f?(l=z())in m?m[l]():!n.exports&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype||F()||an("Unexpected message ("+s.data+")"):F()?m.init():rn('Ignored message of type "'+z()+'". Received before initialization.'))})),en(window,"readystatechange",Sn),Sn()}function nn(){}function en(n,e,t,i){n.addEventListener(e,t,!!U&&(i||{}))}function tn(n){return n.charAt(0).toUpperCase()+n.slice(1)}function on(n){return I+"["+k+"] "+n}function rn(n){y&&"object"==typeof window.console&&console.log(on(n))}function an(n){"object"==typeof window.console&&console.warn(on(n))}function un(n){var e=n.split("Callback");if(2===e.length){var t="on"+e[0].charAt(0).toUpperCase()+e[0].slice(1);this[t]=this[n],delete this[n],an("Deprecated: '"+n+"' has been renamed '"+t+"'. The old method will be removed in the next major version.")}}function cn(n,t){e!==t&&""!==t&&"null"!==t&&(document.body.style[n]=t,rn("Body "+n+' set to "'+t+'"'))}function sn(n){var e={add:function(e){function t(){In(n.eventName,n.eventType)}J[e]=t,en(window,e,t,{passive:!0})},remove:function(n){var e=J[n];delete J[n],window.removeEventListener(n,e,!1)}};n.eventNames&&Array.prototype.map?(n.eventName=n.eventNames[0],n.eventNames.map(e[n.method])):e[n.method](n.eventName),rn(tn(n.method)+" event listener: "+n.eventType)}function dn(n){sn({method:n,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),sn({method:n,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),sn({method:n,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),sn({method:n,eventType:"Input",eventName:"input"}),sn({method:n,eventType:"Mouse Up",eventName:"mouseup"}),sn({method:n,eventType:"Mouse Down",eventName:"mousedown"}),sn({method:n,eventType:"Orientation Change",eventName:"orientationchange"}),sn({method:n,eventType:"Print",eventName:["afterprint","beforeprint"]}),sn({method:n,eventType:"Ready State Change",eventName:"readystatechange"}),sn({method:n,eventType:"Touch Start",eventName:"touchstart"}),sn({method:n,eventType:"Touch End",eventName:"touchend"}),sn({method:n,eventType:"Touch Cancel",eventName:"touchcancel"}),sn({method:n,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),sn({method:n,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),sn({method:n,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===O&&sn({method:n,eventType:"IFrame Resized",eventName:"resize"})}function fn(n,e,t,i){return e!==n&&(n in t||(an(n+" is not a valid option for "+i+"CalculationMethod."),n=e),rn(i+' calculation method set to "'+n+'"')),n}function ln(){h=fn(h,m,K,"height")}function mn(){j=fn(j,A,Z,"width")}function hn(){!0===t?(dn("add"),window.MutationObserver||window.WebKitMutationObserver?0>p?wn():a=function(){function n(n){function e(n){!1===n.complete&&(rn("Attach listeners to "+n.src),n.addEventListener("load",i,!1),n.addEventListener("error",o,!1),a.push(n))}"attributes"===n.type&&"src"===n.attributeName?e(n.target):"childList"===n.type&&Array.prototype.forEach.call(n.target.querySelectorAll("img"),e)}function e(n){rn("Remove listeners from "+n.src),n.removeEventListener("load",i,!1),n.removeEventListener("error",o,!1),function(n){a.splice(a.indexOf(n),1)}(n)}function t(n,t,i){e(n.target),In(t,i+": "+n.target.src)}function i(n){t(n,"imageLoad","Image loaded")}function o(n){t(n,"imageLoadFailed","Image load failed")}function r(e){In("mutationObserver","mutationObserver: "+e[0].target+" "+e[0].type),e.forEach(n)}var a=[],u=window.MutationObserver||window.WebKitMutationObserver,c=function(){var n=document.querySelector("body");return c=new u(r),rn("Create body MutationObserver"),c.observe(n,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),c}();return{disconnect:function(){"disconnect"in c&&(rn("Disconnect body MutationObserver"),c.disconnect(),a.forEach(e))}}}():(rn("MutationObserver not supported in this browser!"),wn())):rn("Auto Resize disabled")}function wn(){0!==p&&(rn("setInterval: "+p+"ms"),b=setInterval((function(){In("interval","setInterval: "+p)}),Math.abs(p)))}function gn(n,e){var t=0;return e=e||document.body,t=null!==(t=document.defaultView.getComputedStyle(e,null))?t[n]:0,parseInt(t,10)}function vn(n,e){for(var t=e.length,i=0,o=0,r=tn(n),a=Date.now(),u=0;u<t;u++)(i=e[u].getBoundingClientRect()[n]+gn("margin"+r,e[u]))>o&&(o=i);return a=Date.now()-a,rn("Parsed "+t+" HTML elements"),rn("Element position calculated in "+a+"ms"),function(n){n>E/2&&rn("Event throttle increased to "+(E=2*n)+"ms")}(a),o}function pn(n){return[n.bodyOffset(),n.bodyScroll(),n.documentElementOffset(),n.documentElementScroll()]}function bn(n,e){var t=document.querySelectorAll("["+e+"]");return 0===t.length&&(an("No tagged elements ("+e+") found on page"),document.querySelectorAll("body *")),vn(n,t)}function yn(){return document.querySelectorAll("body *")}function Tn(n,t,i,o){var r,a;!function(){function n(n,e){return!(Math.abs(n-e)<=x)}return r=e!==i?i:K[h](),a=e!==o?o:Z[j](),n(l,r)||c&&n(C,a)}()&&"init"!==n?!(n in{init:1,interval:1,size:1})&&(h in z||c&&j in z)?zn(t):n in{interval:1}||rn("No change in size detected"):(Mn(),On(l=r,C=a,n))}function In(n,e,t,i){R&&n in s?rn("Trigger event cancelled: "+n):(n in{reset:1,resetPage:1,init:1}||rn("Trigger event: "+e),"init"===n?Tn(n,e,t,i):$(n,e,t,i))}function Mn(){R||(R=!0,rn("Trigger event lock on")),clearTimeout(F),F=setTimeout((function(){R=!1,rn("Trigger event lock off"),rn("--")}),d)}function kn(n){l=K[h](),C=Z[j](),On(l,C,n)}function zn(n){var e=h;h=m,rn("Reset trigger event: "+n),Mn(),kn("reset"),h=e}function On(n,t,i,o,r){var a;e===r?r=N:rn("Message targetOrigin: "+r),rn("Sending message to host page ("+(a=k+":"+n+":"+t+":"+i+(e!==o?":"+o:""))+")"),S.postMessage(I+a,r)}function Sn(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}()}))};const s=class{constructor(e){n(this,e)}async componentWillLoad(){this.href=await r()}componentDidLoad(){c.iframeResizer({checkOrigin:!1,onMessage(n){"updateCart"===n.message.type&&a(null).catch((n=>{throw n}))}},this.iframe)}render(){return e(t,null,e("iframe",{ref:n=>this.iframe=n,src:this.href,frameBorder:0,style:{width:"1px","min-width":"100%","min-height":"100%",overflow:"hidden"},scrolling:"no"}))}get host(){return i(this)}};export{s as cl_cart}